<script type="text/javascript">
  RED.nodes.registerType('interval',{
    category: 'input',
    color: '#a6bbcf',
    defaults: {
      name: {
        value:"interval"
      },
      interval: {
        value: 10,
        required: true,
        validate: RED.validators.number()
      },
      onstart: {
        value: false
      },
      msg: {
        value: 'ping',
        required: true
      },
      showstatus: {
        value: true
      },
      unit: {
        value: 'seconds',
        required: true
      },
      statusformat: {
        value: 'YYYY-MM-D HH:mm:ss',
        required: true
      }
    },
    inputs: 0,
    outputs: 1,
    icon: "timer.png",
    label: function() {
      return this.name;
    }
  });
</script>

<script type="text/x-red" data-template-name="interval">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>

  <div class="form-row">
    <label for="node-input-interval">Interval</label>
    <input type="number" id="node-input-interval" placeholder="200">
  </div>

  <div class="form-row">
    <label for="node-input-unit">Unit</label>
    <select id="node-input-unit">
      <option>milliseconds</option>
      <option>seconds</option>
      <option>minutes</option>
      <option>hours</option>
      <option>days</option>
    </select>
  </div>

  <div class="form-row">
    <label for="node-input-msg">Message to be sent</label>
    <input type="text" id="node-input-msg">
  </div>

  <div class="form-row">
    <label for="node-input-showstatus">Show previous and next message dates</label>
    <input type="checkbox" id="node-input-showstatus">
  </div>

  <div class="form-row">
    <label for="node-input-statusformat">Format used to show the date.
      <a href="http://momentjs.com/docs/#/displaying/format/">(see momentjs doc)</a>
    </label>
    <input type="text" id="node-input-statusformat">
  </div>

  <div class="form-row">
    <label for="node-input-onstart">Send a message on start</label>
    <input type="checkbox" id="node-input-onstart">
  </div>
</script>

<script type="text/x-red" data-help-name="interval">
  <p>A simple node that sends a message at specified interval</p>
</script>
